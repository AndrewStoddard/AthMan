@model Incident
@{
    ViewData["Title"] = $"Incidents - {ViewBag.Action}";
}
<div class="container-fluid" style="padding: 20px; margin: 10px;">
    <h1>@ViewBag.Action</h1>

    <form asp-action="Edit" method="post">
        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="row row-cols-2">
            <div class="col form-group">
                <label asp-for="ClientID">Client</label>
                <select disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" asp-for="ClientID"
                        asp-items="@(new SelectList(ViewBag.Clients, "ClientID", "FullName"))"
                        class="form-control"></select>
            </div>
            <div class="col form-group">
                <label asp-for="EmployeeID">Employee</label>
                <select disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" asp-for="EmployeeID"
                        asp-items="@(new SelectList(ViewBag.Employees, "EmployeeID", "Name"))"
                        class="form-control"></select>
            </div>

        </div>
        <div class="row">
            <div class="col form-group">
                <label asp-for="ItemID">Item</label>
                <select disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" asp-for="ItemID"
                        asp-items="@(new SelectList(ViewBag.Items, "ItemID", "Name"))"
                        class="form-control"></select>
            </div>
            <div class="col form-group">
                <label asp-for="DateOpened">Date Opened</label>
                <input class="form-control" asp-for="DateOpened" disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" placeholder="Date Opened" />
            </div>
            <div class="col form-group">
                <label asp-for="DateClosed">Date Closed</label>
                <input class="form-control" asp-for="DateClosed" disabled="@(ViewBag.Action == "View" || Model.DateClosed != null)" placeholder="Date Closed" />
            </div>
        </div>

        <div class="row">
            <div class="col form-group">
                <label asp-for="Title">Title</label>
                <input class="form-control" asp-for="Title" disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" placeholder="Title"/>
            </div>
           
        </div>

        <div class="row">
            <div class="col form-group">
                <label asp-for="Description">Description</label>
                <textarea class="form-control" asp-for="Description" disabled="@(ViewBag.Action == "View" || ViewBag.Action == "Edit")" placeholder="Despcription">@Model.Description</textarea>    
            </div>
            
        </div>
        
       



        <input type="hidden" asp-for="IncidentID" />
        @if (ViewBag.Action == "View")
        {
            <a asp-action="Edit" asp-route-incidentId="@Model.IncidentID" class="btn btn-primary">Edit</a>
            <a asp-action="Incidents" class="btn btn-primary">Back</a>
        }
        else
        {
            <button type="submit" class="btn btn-primary">@ViewBag.Action</button>
            <a asp-action="Incidents" class="btn btn-primary">Cancel</a>
        }

    </form>
</div>